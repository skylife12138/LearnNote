## 服务器搭建流程(俄罗斯版本)
#### 1.部署
a.服务器配置

##### 公司测试服配置  

|类型|配置需求 
|---|-----|  
|CPU核数|4核*1|
|内存容量|8G|
|普通硬盘|500G*1|
|固态硬盘|无|
|型号|无|
|操作系统|Debian 9.4|
|机器类型|虚拟机|
  
##### 其他外服承载6000人的服务器配置：  

- 1.普通服  

|类型|配置需求 
|---|-----|  
|CPU核数|E5-2643V2/12核*1|
|内存容量|8G*8|
|普通硬盘|600G/3.5寸*4|
|固态硬盘||
|型号|PowerEdge R720XD|
|操作系统|Debian 7(64)|
|机器类型|实体机|

- 2.战场服  

|类型|配置需求 
|---|-----|  
|CPU核数|E5-2643V2 @3.50GHz/12核*1|
|内存容量|8G*8|
|普通硬盘|600G/SAS(15k)/3.5寸*4|
|固态硬盘||
|型号|PowerEdge R720XD|
|操作系统|Debian 7(64)|
|机器类型|实体机|

- 3.中间服  

|类型|配置需求 
|---|-----|  
|CPU核数|4核*1|
|内存容量|8G|
|普通硬盘|500G*1|
|固态硬盘|无|
|型号|无|
|操作系统|Debian 7.7(64)|
|机器类型|虚拟机|

- 4.roledb  

|类型|配置需求 
|---|-----|  
|CPU核数|E5-2643V2/12核*1|
|内存容量|8G*4|
|普通硬盘|600G/3.5寸*4|
|固态硬盘||
|型号|PowerEdge R720XD|
|操作系统|Debian 7(64)|
|机器类型|实体机|

- 5.logdb  

|类型|配置需求 
|---|-----|  
|CPU核数|8核*1|
|内存容量|16G|
|普通硬盘|1024G*1|
|固态硬盘|无|
|型号|无|
|操作系统|Debian 7.7(64)|
|机器类型|虚拟机|

- 6.guiddb  

|类型|配置需求 
|---|-----|  
|CPU核数|4核*1|
|内存容量|8G|
|普通硬盘|500G*1|
|固态硬盘|无|
|型号|无|
|操作系统|Debian 7.7(64)|
|机器类型|虚拟机|

- 7.三台对应的slavedb  

|类型|配置需求 
|---|-----|  
|CPU核数|2核*1|
|内存容量|4G|
|普通硬盘|500G*1|
|固态硬盘|无|
|型号|无|
|操作系统|Debian 7.7|
|机器类型|虚拟机|

b.部署工作流程  

- 1.按照上述配置需求申请机器(需要和运维联系)；  

- 2.配置相关的同步服务器和对应运维脚本(需要和运维联系);

- 3.在运维管理工具(需要和运维联系)上确认新服的ip等,并修改服务器列表(项目人员维护)；

- 4.设置数据库服务器授权访问，并初始化服务器(需要运维人员提供脚本)；

- 5.后续初始化操作(项目人员维护);
 
- 6.配置服务器，使用同步服把代码和档同步到新服进行配置(项目人员维护)；

- 7.网站登记和dyt配置(项目人员维护)。 注：俄罗斯版本需要先确认运营方的平台验证方式；

- 8.将新服编号加入到维护列表，并加入到代理服白名单(项目人员维护)；

- 9.启动filebeat(elk日志收集工具)(项目人员维护)；

#### 2.登录及其他流程

- 1.确认俄罗斯版本的登录流程(需要和运营联系确认)，联系数据中心确认和俄罗斯方的登录等流程对接工作安排，建议由数据中心统一提供一个中间转换工具方便以后其他项目的海外部署；

- 2.和数据中心，战盟等平台确认充值，好友，盟友等功能的对接工作，建议同1;

- 3.先向俄罗斯方确认其日志记录方式，然后和大数据平台和ELK平台对接俄罗斯版本的日志记录工作；
